<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>Vending Machine - Junhee Woo. 2012.5.6.</title>
		<link rel="stylesheet" type="text/css" href="css/default.css" />
		<script type="text/javascript" src="common/Util.js"></script>
		<script type="text/javascript" src="models/Dispenser.js"></script>
		<script type="text/javascript" src="views/coinpanel.js"></script>
		<script type="text/javascript" src="views/itemdeck.js"></script>
		<script type="text/javascript" src="views/logpanel.js"></script>
	</head>
	<body>
		<div id="panel_left">
		</div>
		<div id="panel_right">
			<div class="sub_panel_coin">
				<div class="sub_panel_inserted_coin">
					투입된 금액 : 
					<span id="total_cost">0</span> 원
				</div>
				<div id="sub_panel_insert_button" class="sub_panel_insert_button">
					<input type="button" class="coin_push" amount="50" value="50원" />
					<input type="button" class="coin_push" amount="100" value="100원" />
					<input type="button" class="coin_push" amount="500" value="500원" /><br />
					<input type="button" class="coin_push" amount="1000" paper="true" value="1000원 (지폐)" />
					<input type="button" class="coin_push" amount="0" value="반환레버"  />
				</div>
			</div>
			<div class="sub_panel_message">
				<div class="sub_panel_message_title">
					Message
				</div>
				<textarea id="message" readonly></textarea><br />
				<input type="button" id="clear_log" value="로그 지우기" />
			</div>
		</div>
		
		<script type="text/javascript">
			var doc_loaded = function () {
				var items = [
					new models.Product('001', 'PowerAde', 800, util.generateCapacity(6), 'images/product_1.jpg')
					, new models.Product('002', 'Gatorade', 800, util.generateCapacity(6), 'images/product_2.jpg')
					, new models.Product('003', 'Coke Zero', 600, util.generateCapacity(6), 'images/product_3.jpg', 'Coca-Cola Company')
					, new models.Product('004', 'Mirinda Orange', 550, util.generateCapacity(6), 'images/product_4.jpg')
					, new models.Product('005', 'Ceylon Tea', 1100, util.generateCapacity(6), 'images/product_5.jpg')
					, new models.Product('006', 'G2', 950, util.generateCapacity(6), 'images/product_6.jpg')
				], i = items.length;
				
				// Initialize Partial View Modules
				views.itemDeck.init();
				views.logPanel.init();
				views.coinPanel.init();
				
				models.Dispenser.setInventory(items);
				while((i -= 1) >= 0) {
					views.itemDeck.itemRender(items[i]);
				}
			};
			
			if (document.addEventListener) {
				document.addEventListener( "DOMContentLoaded", doc_loaded, false );
			} else if (document.attachEvent) {
				document.attachEvent( "onreadystatechange", doc_loaded );
			} else {
				window.onload = doc_loaded;
			}
			
		</script>
	</body>
</html>